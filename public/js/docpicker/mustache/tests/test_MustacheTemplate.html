<!DOCTYPE html>
<html>
<head>

	<script>
		djConfig = {
			modulePaths: {
				mustache: location.pathname.substring(0, location.pathname.lastIndexOf("/tests"))
			},
			require: ["dojo.cache", "dijit.dijit", "mustache._Templated"]
		}
	</script>
	<script src="../../dojo/dojo.js" type="text/javascript"></script>
	<script>
		dojo.ready(function(){

			dojo.declare("my.Thinger", [dijit._Widget, mustache._Templated], {
				firstname:"dante",
				lastname:"hicks",
				templateString: dojo.cache("mustache.tests", "templates/whoami.html")
			});

			var body = dojo.body();
			new my.Thinger().placeAt(body);
			new my.Thinger({ firstname:"Peter", lastname:"Higgins" }).placeAt(body);
			new my.Thinger({
				name: "Peter Higgins".split(" "),
				lastname: function(){
					return this.name[1];
				},
				firstname: function(){
					return this.name[0];
				}
			}).placeAt(body);
		});

	</script>
</head>
<body>


</body>
</html>